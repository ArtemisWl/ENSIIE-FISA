# Exercice 1

### a
Donnez une commande qui permet de calculer le nombre total de lignes que font les fichiers `.c` ou `.h` dans une arborescence `/tmp` donnée.

```bash
find /tmp -name "*.[ch]" -exec cat {} + | wc -l
find /tmp -name "*.[ch]" -exec wc -l {} + | awk '{s+=$1} END {print s}'
```

### (b)
Indiquez ce que fait la commande suivante :

```bash
grep $USER /etc/passwd | sed -e "s/[^:]*:[^:]*:\([^:]*\):\([^:]*\).*/\2\t\1/"
```

**Explication** :
1. **Commande `grep`** : `grep $USER /etc/passwd` filtre l’entrée de l'utilisateur courant dans `/etc/passwd`.
2. **Expression régulière dans `sed`** :
   - `[^:]*:[^:]*:` : Ignore les deux premiers champs, séparés par `:`. Chaque champ est défini par `[^:]*` qui représente une séquence de caractères jusqu'au prochain `:`.
   - `\([^:]*\):` : Capture le troisième champ entre parenthèses `\(` et `\)`, soit l'**UID**.
   - `\([^:]*\)` : Capture le quatrième champ, soit le **GID**.
   - `.*` : Ignore le reste de la ligne.

3. **Remplacement** : `\2\t\1` affiche le GID (`\2`) suivi d'une tabulation (`\t`) puis de l’UID (`\1`).

### c
Indiquez ce que fait la commande suivante :

```bash
find . -type f -size +20M -mtime +25 -exec mv {} ~/archive/ \;
```

**Explication** :
1. `find . -type f -size +20M -mtime +25` : Cherche les fichiers dans le répertoire courant (et sous-répertoires) qui :
   - Sont des fichiers ordinaires (`-type f`)
   - Ont une taille supérieure à 20 Mo (`-size +20M`)
   - Ont été modifiés il y a plus de 25 jours (`-mtime +25`)
2. `-exec mv {} ~/archive/ \;` : Déplace chaque fichier trouvé dans le répertoire `~/archive/`.
