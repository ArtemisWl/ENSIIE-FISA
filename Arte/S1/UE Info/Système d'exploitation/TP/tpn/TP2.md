
---

### Exercice 6 - Script `sleepsort` avec gestion dâ€™erreurs

```bash
#!/bin/bash
# Usage: sleepsort n1 n2 ... nk

# VÃ©rification des arguments
if [ "$#" -eq 0 ]; then
    echo "Erreur : fournir au moins un entier positif." >&2
    exit 1
fi

for num in "$@"; do
    if ! [[ "$num" =~ ^[0-9]+$ ]]; then
        echo "Erreur : chaque argument doit Ãªtre un entier positif." >&2
        exit 1
    fi
done

# Lancer le tri
for num in "$@"; do
    { sleep "$num"; echo "$num"; } &
done
wait
```

---

### Exercice 7 - Script `pidfiles` avec gestion dâ€™erreurs

```bash
#!/bin/bash
# Usage: pidfiles <directory>

# VÃ©rifier que le rÃ©pertoire est fourni et existe
if [ "$#" -ne 1 ]; then
    echo "Usage: $0 <directory>" >&2
    exit 1
elif [ ! -d "$1" ]; then
    echo "Erreur : $1 n'est pas un rÃ©pertoire valide." >&2
    exit 1
fi

dir="$1"
find "$dir" -type f -printf "%u\n" | sort | uniq -c
```